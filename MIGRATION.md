# –ú–∏–≥—Ä–∞—Ü–∏—è URL –∫–∞—Ä—Ç–∏–Ω–æ–∫

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω—è—Ç—Å—è –ø–æ–ª–Ω—ã–µ URL –∫–∞—Ä—Ç–∏–Ω–æ–∫ —Å `http://localhost:3002/uploads/...`, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–∞–º –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ production.

## –†–µ—à–µ–Ω–∏–µ

–ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–º–µ–Ω—è–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ URL –Ω–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ `/uploads/...`.

## –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ bash —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ VozmiMenja
./migrate-images.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–æ–∑–¥–∞—Å—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –í—ã–ø–æ–ª–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏—é
- –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç –±–∞–∑—É –∏–∑ –±—ç–∫–∞–ø–∞

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ npm (–≤—Ä—É—á–Ω—É—é)

```bash
cd server
npm run migrate:images
```

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –º–∏–≥—Ä–∞—Ü–∏—è

1. –ß–∏—Ç–∞–µ—Ç –≤—Å–µ –∑–∞–ø–∏—Å–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `equipment`
2. –î–ª—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏ –ø–∞—Ä—Å–∏—Ç JSON –º–∞—Å—Å–∏–≤ `images`
3. –ó–∞–º–µ–Ω—è–µ—Ç:
   - `http://localhost:3002/uploads/file.jpg` ‚Üí `/uploads/file.jpg`
   - `http://localhost:3001/uploads/file.jpg` ‚Üí `/uploads/file.jpg`
4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
5. –í—ã–≤–æ–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É: —Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –æ–±–Ω–æ–≤–ª–µ–Ω–æ

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø**: —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ñ–∞–π–ª `database.sqlite.backup-YYYYMMDD-HHMMSS`
- **–û—Ç–∫–∞—Ç**: –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –±–∞–∑–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–†—É—á–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ**: `cp server/database.sqlite.backup-* server/database.sqlite`

## –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏:
1. –ö–∞—Ä—Ç–∏–Ω–∫–∏ –≤ –ë–î –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –∫–∞–∫ `/uploads/file.jpg`
2. –§—É–Ω–∫—Ü–∏—è `getImageUrl` –≤ frontend –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –±–µ–∑ —Ö–∞–∫–æ–≤
3. –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∫–æ–¥ –∑–∞–º–µ–Ω—ã localhost –∏–∑ `client/src/lib/utils.ts` (—Å—Ç—Ä–æ–∫–∏ 13-16)

## –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
üîÑ –ù–∞—á–∞–ª–æ –º–∏–≥—Ä–∞—Ü–∏–∏ URL –∫–∞—Ä—Ç–∏–Ω–æ–∫...
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ: 98794938-b0c8-4a7d-b182-b6645ba8039b
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ: 64e19704-b0dc-4879-9b90-6adc4eddd923
...

üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏:
   –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è: 9
   –û–±–Ω–æ–≤–ª–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π: 9
   –í—Å–µ–≥–æ –∫–∞—Ä—Ç–∏–Ω–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: 45

‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
```

## –í–∞–∂–Ω–æ

‚ö†Ô∏è –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –º–∏–≥—Ä–∞—Ü–∏–∏ —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
- –°–æ–∑–¥–∞–Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –°–µ—Ä–≤–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ –¥–ª—è –±—ç–∫–∞–ø–∞
